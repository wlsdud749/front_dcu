<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4 Days 화이팅</title>

    <style>
        #form1 input[type=text], #form1 textarea{

            border: none;
            border-bottom: 4px solid blue;
            background-color: skyblue;
            width: 400px;
        }

    </style>

    <script>

        // event 핸들러의 첫번째 인자는 event 객체이다.
        function validateForm(form) {
            form=event.targer;
            console.log(event.targer)
            
            if(form == null) {
                form = this;
            }
            event.preventDefault(); // 일시중지
            if(form.subject.value=="") {
                alert("제목을 입력 하세요.");
                form.subject.focus();
                return false;
            }

            if(form.writer.value=="") {
                alert("이름을 입력 하세요.");
                form.writer.focus();
                return false;
            }

            if(form.writer.value.length < 2){
                alert("이름 글자수 확인 (2글자 이상 입력하세요!)")
                form.writer.focus();
                return;
            }
                

            
            form.action="http://www.naver.com";
            form.submit();
            
            
            //window(문서)가 모두 로드되면 기능이 실행 하도록 이벤트 핸들러 적용.
            // window.onload = function() {
            // var form1= document.getElementById("form1");
            // form1.onsubmit = function() {
            //     //event 가 발생하면 event 객체가 자동 생성
            //     event.preventDefault();
            //     console.log(this == event);
            //     validateForm(this);
            // }
                form1.onsubmit = validateForm; // 참조 시킬 경우엔 괄호 생략. 실행은 괄호 포함.
                
        }
    


        // internal 방식으로 변경.
        // form1의 dom 객체 선택
        // form1에 이벤트 핸들러 걸기
    </script>
</head>
    <h1>글쓰기</h1>
    <form action="" id="form1" onsubmit="javascript:validateForm(this)">
        <!-- 인라인 방식으로도 이벤트 추가 가능 (꼭 필요한 경우에만 인라인으로 적용해서 사용)-->
        <table>
            <tr>
                <th>제목</th>
                <td><input type="text" name="subject"></td>
            </tr>
            <tr>
                <th>이름</th>
                <td><input type="text" name="writer"></td>
            </tr>
            <tr>
                <th>내용</th>
                <td><textarea name="content" cols="30" rows="10"></textarea></td>
            </tr>
            <tr>
                <th></th>
                <td><input type="submit" value="저장"></td>
            </tr>
        </table>
    </form>
</body>
</html>